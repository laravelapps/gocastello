!function(e){function t(t){for(var i,r,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)r=s[d],o[r]&&f.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={1:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,i){n=o[e]=[t,i]});t.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+""+({0:"cheeseboardbuilder",3:"vendors~cheeseboardbuilder"}[e]||e)+"."+{0:"ac67a4d7c9ec1d183e72",3:"a46f0a27fa93522de8d7"}[e]+".js"}(e),a=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");r.type=i,r.request=a,n[1](r)}o[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([196,2]),n()}({12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.default={isNavigationOpened:!1,isUserProfileOpened:!1,isOnBoardingOpened:!1,isLoading:!1,isCookieNotification:i.default.get("cookie-policy"),isCountryPickerShown:!1,facebookAppId:"",countryList:window.countryList||[],language:"",tieEnabled:window.tieEnabled,fetch:function(){this.facebookAppId=window.appState.facebookAppId,this.language=window.appState.language}}},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(10)),a=s(n(28)),r=s(n(21));function s(e){return e&&e.__esModule?e:{default:e}}s(n(12));var c={class:{isSelected:"is-selected",likeButton:"js-like-button",dislikeButton:"js-dislike-button"},selector:{likeDislikeRoot:".js-like-dislike",likeButton:".js-like-button",dislikeButton:".js-dislike-button"},api:{registerUserInteraction:"/"+(window.appState.language||"en")+"/api/interactions"},data:{likeDislikeAttr:"[data-like-dislike]",like:"like",dislike:"dislike"},template:'\n    <div class="tie-like-dislike js-like-dislike">\n      <button class="tie-like-dislike__btn tie-like__btn js-like-button">\n        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22">\n          <path fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12,7 L12,3 C12,1.34314575 10.6568542,4.4408921e-16 9,-4.4408921e-16 L5,9 L5,20.0001297 L16.28,20 C17.2772867,20.0112744 18.1304612,19.2860761 18.28,18.3 L19.66,9.3 C19.748056,8.71985532 19.5768972,8.1303088 19.1918585,7.68751434 C18.8068198,7.24471987 18.2467517,6.99335535 17.66,7 L12,7 Z M5,20 L2,20 C0.8954305,20 0,19.1045695 0,18 L0,11 C-2.22044605e-16,9.8954305 0.8954305,9 2,9 L5,9 L5,20 Z" transform="translate(1 1)"/>\n        </svg>\n\n      </button>\n      <button class="tie-like-dislike__btn tie-dislike__btn js-dislike-button">\n        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22">\n          <path fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8,13 L8,17 C8,18.6568542 9.34314575,20 11,20 L15,11 L15,-0.000129660031 L3.72,-3.20164902e-16 C2.72271325,-0.0112743603 1.86953884,0.713923888 1.72,1.7 L0.34,10.7 C0.251943979,11.2801447 0.423102825,11.8696912 0.80814149,12.3124857 C1.19318016,12.7552801 1.7532483,13.0066446 2.34,13 L8,13 Z M15,8.60856525e-17 L17.67,8.60856525e-17 C18.8414896,-0.0207180613 19.8429457,0.838900919 20,2 L20,9 C19.8429457,10.1610991 18.8414896,11.0207181 17.67,11 L15,11 L15,8.60856525e-17 Z" transform="translate(1 1)"/>\n        </svg>\n      </button>\n    </div>\n  '},l=function(e,t,n){fetch(c.api.registerUserInteraction,{method:"POST",body:JSON.stringify({userRecipeAttitude:e,itemId:t}),headers:{"Content-type":"application/json"},credentials:"same-origin"}).then(function(t){return 401===t.status?a.default.$emit("show-sign-in-popup"):(200===t.status&&(e==c.data.like?(n.next().removeClass(c.class.isSelected),n.addClass(c.class.isSelected),a.default.$emit("like-recipe"),a.default.$emit("like-recipe-link",n[0])):e==c.data.dislike&&(n.prev().removeClass(c.class.isSelected),n.addClass(c.class.isSelected),a.default.$emit("dislike-recipe"),a.default.$emit("dislike-recipe-link",n[0]))),null)}).catch(function(e){return console.error("Error:",e)})},u=function(e){var t=e.parent().parent(),n=t.data("recipe-id");e.hasClass(c.class.likeButton)?(l(c.data.like,n,e),t.data("recipeInteraction",c.data.like)):(l(c.data.dislike,n,e),t.data("recipeInteraction",c.data.dislike)),r.default.resetSavedRecommendation()},d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$rootNode=(0,o.default)("body")}return i(e,[{key:"findNodes",value:function(){this.$likeDislikeItem=(0,o.default)(c.data.likeDislikeAttr),this.$likeButton=this.$rootNode.find(c.selector.likeButton),this.$dislikeButton=this.$rootNode.find(c.selector.dislikeButton)}},{key:"searchForLikeNodes",value:function(e){e&&(this.$likeDislikeItem=e.find(c.data.likeDislikeAttr),this.appendTemplate())}},{key:"attachEvents",value:function(){this.$rootNode.on("click",c.selector.likeButton,function(e){e.preventDefault();var t=(0,o.default)(e.currentTarget);t.hasClass(c.class.isSelected)||u(t)}),this.$rootNode.on("click",c.selector.dislikeButton,function(e){e.preventDefault();var t=(0,o.default)(e.currentTarget);t.hasClass(c.class.isSelected)||u(t)})}},{key:"appendTemplate",value:function(){this.$likeDislikeItem.each(function(e,t){var n=(0,o.default)(t);if(!n.data("like-init")){var i=(0,o.default)(c.template);i.data("recipeId",n.data("like-dislike")),n.append(i).data("like-init",!0),n.data("recipe-interaction")==c.data.like&&n.find(".js-like-button").addClass(c.class.isSelected),n.data("recipe-interaction")==c.data.dislike&&n.find(".js-dislike-button").addClass(c.class.isSelected)}})}},{key:"init",value:function(){this.findNodes(),this.appendTemplate(),this.attachEvents()}}]),e}();t.default=new d},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method=t.method||"GET",fetch(e,i({credentials:"include",headers:new Headers({Accept:"application/json","Content-Type":"application/json"})},t)).then(function(n){if(!n.ok){var i=new Error(t.method+" "+e+" "+n.status+" ("+n.statusText+")");throw i.response=n,i}return n.text().then(function(e){return e?JSON.parse(e):null})})}function a(e,t){return o(e,{method:"POST",body:t?JSON.stringify(t):void 0})}t.default={getUser:function(e){return o("/"+e+"/api/user")},getTieUserSignupFlow:function(e){return o("/"+e+"/api/user/tie/signupflow")},postTieUser:function(e,t){return a("/"+e+"/api/user/tie",t)},postUser:function(e,t){return a("/"+e+"/api/user",t)},signInUser:function(e,t){return a("/"+e+"/api/user/signin",t)},signOutUser:function(e){return a("/"+e+"/api/user/signout")},getCBBSpreadsheet:function(e){return o(""+e)}}},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(12)),o=a(n(21));function a(e){return e&&e.__esModule?e:{default:e}}var r=void 0;function s(){return r||(r=new Promise(function(e,t){window.fbAsyncInit=function(){try{FB.init({appId:i.default.facebookAppId,xfbml:!1,version:"v3.2",cookie:!0,status:!0}),e()}catch(e){t(e)}},function(e,t,n){var i=e.getElementsByTagName(t)[0];if(!e.getElementById(n)){var o=e.createElement(t);o.id=n,o.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i)}}(document,"script","facebook-jssdk")}))}function c(){return new Promise(function(e){FB.getLoginStatus(function(t){e(t)})})}function l(){return new Promise(function(e){FB.api("/me","GET",{fields:"picture,name"},function(t){return e(t)})})}t.default={init:function(){s()},getUserPictureProfile:function(){return s().then(c).then(function(e){return"connected"==e.status?l():null})},connect:function(){return s().then(c).then(function(e){return"connected"==e.status?e:new Promise(function(e,t){try{FB.login(function(t){e(t)})}catch(e){t(e)}})}).then(function(e){if("connected"==e.status){var t=e.authResponse,n=t.userID,i=t.accessToken;return o.default.signIn(n,i).then(function(){return{connected:!0,status:"signin",facebookId:n,accessToken:i}},function(e){if(404==e.response.status)return l().then(function(e){var t={connected:!0,status:"signup",facebookId:e.id,fullName:e.name,pictureUrl:e.picture.data.url,accessToken:i};return o.default.facebookData=t,t});throw e})}return{connected:!1}})},disconnect:function(){return s().then(c).then(function(e){return"connected"==e.status?new Promise(function(e){FB.logout(function(t){e(t)})}):e})}}},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}();t.default=i},127:function(e,t,n){"use strict";n.r(t);var i=n(82),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(131),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},128:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"on-boarding-tile"},[n("div",{staticClass:"on-boarding-tile__img-wrapper"},[n("picture",{staticClass:"on-boarding-tile__picture"},[n("source",{attrs:{srcset:e.recipe.imageUrlLarge1X+" 1x, "+e.recipe.imageUrlLarge2X+" 2x",media:"(min-width: 1025px)"}}),e._v(" "),n("source",{attrs:{srcset:e.recipe.imageUrlMedium1X+" 1x, "+e.recipe.imageUrlMedium2X+" 2x",media:"(min-width: 768px)"}}),e._v(" "),n("img",{staticClass:"on-boarding-tile__img lazyload",attrs:{srcset:e.recipe.imageUrlSmall1X+" 1x, "+e.recipe.imageUrlSmall2X+" 2x",alt:e.recipe.name}})]),e._v(" "),n("svg",[n("use",{attrs:{"xlink:href":"#thumbs-up"}})])]),e._v(" "),n("span",{staticClass:"on-boarding-tile__title"},[e._v(e._s(e.recipe.name))])])},o=[]},129:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){this.$createElement;return this._self._c,this._m(0)},o=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flavors-chart-wrapper"},[t("div",{staticClass:"flavors-chart"})])}]},130:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"user-profile__flavorprint"},[n("flavors-chart",{attrs:{flavors:e.flavors}})],1),e._v(" "),n("span",{staticClass:"user-profile__name"},[e._v(e._s(e.userName))]),e._v(" "),n("h3",{staticClass:"user-profile__heading"},[e._v(e._s(e.yourFlavorsText))]),e._v(" "),n("ul",{staticClass:"user-profile__flavors"},e._l(e.sortedFlavors.slice(0,3),function(t){return n("li",{key:t.hex},[n("span",{staticClass:"user-profile__flavor-color",style:{backgroundColor:"#"+t.hex}}),e._v("\n      "+e._s(t.name)+"\n    ")])}),0)])},o=[]},131:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"facebook-button",on:{click:this.connect}},[t("svg",{staticClass:"facebook-button__icon"},[t("use",{attrs:{"xlink:href":"#icon-facebook"}})]),this._v("\n  "+this._s(this.buttonText)+"\n")])},o=[]},132:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cheese-board-exclusions"},[n("strong",{staticClass:"on-boarding-title",class:{"with-subtitle":e.exclusionSubTitle}},[e._v("\n    "+e._s(e.exclusionTitle)+"\n  ")]),e._v(" "),n("h5",{staticClass:"on-boarding-subtitle"},[e._v("\n    "+e._s(e.exclusionSubTitle)+"\n  ")]),e._v(" "),n("div",{staticClass:"cheese-board__chooser"},e._l(e.exclusions,function(t,i){return n("div",{key:i,staticClass:"cheese-board__chooser-item",class:{selected:t.isSelected},on:{click:function(n){e.toggleSelection(t)}}},[n("div",{staticClass:"cheese-board__chooser-item-picture"},[n("svg",{staticClass:"cheese-board__chooser-item-icon"},[n("use",e._b({},"use",{"xlink:href":"#"+t.id},!1))]),e._v(" "),n("svg",{staticClass:"cheese-board__chooser-item-select-icon"},[n("use",{attrs:{"xlink:href":"#thumbs-up"}})])]),e._v(" "),n("strong",{staticClass:"cheese-board__chooser-item-name"},[e._v(e._s(t.title))])])}),0),e._v(" "),n("div",{staticClass:"on-boarding-buttons"},[e.showBackButton?n("button",{staticClass:"on-boarding-back",on:{click:e.onBackClicked}},[e._v("\n      "+e._s(e.popupTextBack)+"\n    ")]):e._e(),e._v(" "),n("button",{staticClass:"on-boarding-continue",on:{click:e.nextStep}},[e._v("\n      "+e._s(e.popupTextContinue)+"\n    ")])])])},o=[]},133:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.onboardingArray.length?n("div",{staticClass:"on-boarding-popup"},[n("div",{staticClass:"on-boarding-popup__overlay",on:{click:e.closePopup}}),e._v(" "),n("div",{staticClass:"on-boarding-popup__content",class:{"flavor-print-step":0!=e.activeStep&&e.activeStep==e.onboardingArray.length&&!e.isExclusionsVisible}},[n("button",{staticClass:"on-boarding-popup__close-btn",on:{click:e.closePopup}}),e._v(" "),n("transition-group",{attrs:{name:"onboarding-fade",mode:"out-in"}},[e._l(e.onboardingArray,function(t,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:i==e.activeStep,expression:"index == activeStep"}],key:i},[n("strong",{staticClass:"on-boarding-title",class:{"with-subtitle":t.subtitle}},[e._v("\n          "+e._s(t.title))]),e._v(" "),t.subtitle?n("h5",{staticClass:"on-boarding-subtitle"},[e._v(e._s(t.subtitle))]):e._e(),e._v(" "),n("div",{staticClass:"on-boarding-tiles"},e._l(t.recipes,function(t){return n("onboarding-recipe",{key:t.id,class:{selected:e.likes.includes(t.id)},attrs:{recipe:t},nativeOn:{click:function(n){e.toggleSelectedRecipe(t)}}})}),1),e._v(" "),n("div",{staticClass:"on-boarding-popup-tools"},[n("ul",{staticClass:"on-boarding-steps"},[e._l(e.onboardingArray,function(t,i){return n("li",{key:i,staticClass:"on-boarding-step",class:{"current-step":i==e.activeStep}},[e._v("\n              "+e._s(i+1)+"\n            ")])}),e._v(" "),n("li",{staticClass:"on-boarding-step total-steps"},[e._v(e._s(e.onboardingArray.length))])],2),e._v(" "),n("div",{staticClass:"on-boarding-buttons"},[n("button",{directives:[{name:"show",rawName:"v-show",value:0!=e.activeStep,expression:"activeStep != 0"}],staticClass:"on-boarding-back",on:{click:e.previousStep}},[e._v("\n              "+e._s(e.popupTextBack)+"\n            ")]),e._v(" "),n("button",{staticClass:"on-boarding-continue",on:{click:e.nextStep}},[e._v("\n              "+e._s(e.popupTextContinue)+"\n            ")])])])])}),e._v(" "),e.isExclusionsVisible?n("cheese-board-exclusions",{key:e.exclusionsPopup,attrs:{"show-back-button":!0},on:{"on-back-clicked":e.backToOnboarding,"complete-exclusion-selection":e.exclusionSelected}}):e._e()],2),e._v(" "),!e.skipFacebookUser&&e.flavorPrint.flavors.length&&e.activeStep==e.onboardingArray.length?n("div",{staticClass:"on-boarding-flavor-print"},[e.user.flavors?n("user-flavor-print",e._b({attrs:{flavors:e.flavorPrint.flavors,"sorted-flavors":e.sortedFlavors,"your-flavors-text":e.yourFlavorsText}},"user-flavor-print",e.flavorPrint.flavors,!1)):e._e(),e._v(" "),n("p",[e._v(e._s(e.popupTextLastStep))]),e._v(" "),e.user.isConnectedToFacebook?n("button",{staticClass:"on-boarding-reload-button",on:{click:e.reloadPage}},[e._v(e._s(e.popupTextContinue))]):n("facebook-login",{attrs:{"button-text":e.popupButtonText},on:{connect:e.onConnectToFacebook}})],1):e._e()],1)]):e._e()},o=[]},134:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ajax-loader-wrap"},[t("div",{staticClass:"ajax-loader"},[this.isIE?t("div",{staticClass:"ie-loader"}):t("svg",{staticClass:"ajax-loader__circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"ajax-loader__path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])])},o=[]},135:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this.$createElement;return(this._self._c||e)("button",{staticClass:"user-profile__sign-out",on:{click:this.signOut}},[this._v(this._s(this.signOutText))])},o=[]},136:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-profile"},[n("div",{directives:[{name:"prevent-parent-scroll",rawName:"v-prevent-parent-scroll"},{name:"prevent-parent-scroll-mobile",rawName:"v-prevent-parent-scroll-mobile"}],staticClass:"user-profile-container"},[n("div",{staticClass:"user-profile__inner"},[n("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.user.isLoggedIn?e._e():n("div",{key:"get-started",staticClass:"user-profile__getting-started"},[e._t("new-user-dialog")],2),e._v(" "),e.user.isLoggedIn?n("div",{key:"logged-in",staticClass:"user-profile__logged-in"},[e.user.flavors.length?n("user-flavor-print",{attrs:{"user-name":e.user.fullName,flavors:e.user.flavors,"sorted-flavors":e.flavors,"your-flavors-text":e.yourFlavorsText}}):e._e(),e._v(" "),e.user.isConnectedToFacebook?e._e():n("div",{staticClass:"user-profile__facebook-wrap"},[n("facebook-login",{attrs:{"button-text":e.facebookButtonText},on:{connect:e.onConnectToFacebook}})],1),e._v(" "),e._t("additional-info")],2):e._e()])],1)]),e._v(" "),e.user.isLoggedIn&&e.user.isConnectedToFacebook?n("sign-out",{attrs:{"sign-out-text":e.signOutText}}):e._e()],1)},o=[]},137:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-user-block"},[n("div",{staticClass:"new-user-block__flavorprint"},[n("flavors-chart",{attrs:{flavors:e.user.fakeFlavors}})],1),e._v(" "),n("h3",{staticClass:"new-user-block__title"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"new-user-block__description"},[n("p",[e._v(e._s(e.subtitle)+"\n      "),n("a",{staticClass:"user-profile__help-icon",attrs:{href:e.userProfileHelpLink},on:{click:e.trackMoreInformation}},[e._v("?")])])]),e._v(" "),n("div",{staticClass:"new-user-block__buttons-wrap"},[n("div",{staticClass:"new-user-block__buttons"},[n("button",{staticClass:"new-user-block__get-started",on:{click:e.startOnboarding}},[e._v("\n        "+e._s(e.buttonText)+"\n      ")]),e._v(" "),e.user.isConnectedToFacebook?e._e():n("facebook-login",{attrs:{"button-text":e.facebookButtonText},on:{connect:e.onConnectToFacebook}})],1)])])},o=[]},138:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cookie-notification-wrapper"},[n("div",{staticClass:"cookie-notification"},[n("div",{staticClass:"cookie-notification__inner"},[e._t("cookie-description"),e._v(" "),n("div",{staticClass:"cookie-notification__block-extension"},[n("button",{staticClass:"cookie-extension-toggler",class:{"show-less-state":e.extensionsVisible},on:{click:e.toggleExtensions}},[n("span",{staticClass:"show-more"},[e._v(e._s(e.extension.showMoreText))]),e._v(" "),n("span",{staticClass:"show-less"},[e._v(e._s(e.extension.showLessText))])]),e._v(" "),e.extensionsVisible?n("div",{staticClass:"cookie-notification__block-extension__content"},[n("div",{staticClass:"cookie-checkbox"},[n("input",{attrs:{disabled:"",checked:"",type:"checkbox",id:"mandatoryCheckbox"}}),e._v(" "),n("label",{attrs:{for:"mandatoryCheckbox"}},[n("strong",[e._v(e._s(e.extension.mandatoryCheckboxName))]),e._v(" "),""!==e.extension.mandatoryCheckboxDescription?n("span",[e._v(" - "+e._s(e.extension.mandatoryCheckboxDescription))]):e._e()])]),e._v(" "),n("div",{staticClass:"cookie-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",checked:"",id:"statisticCheckbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,i=t.target,o=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&(e.checked=n.concat([null])):a>-1&&(e.checked=n.slice(0,a).concat(n.slice(a+1)))}else e.checked=o}}}),e._v(" "),n("label",{attrs:{for:"statisticCheckbox"}},[n("strong",[e._v(e._s(e.extension.statisticsCheckboxName))]),e._v(" "),""!==e.extension.statisticsCheckboxDescription?n("span",[e._v(" - "+e._s(e.extension.statisticsCheckboxDescription))]):e._e()])])]):e._e(),e._v(" "),n("button",{staticClass:"btn btn--gold cookie-extended-button",on:{click:e.setCookie}},[e._v(e._s(e.extension.agreeButton))])])],2)])])},o=[]},139:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:{"sign-in-popup__visible":this.isShown}},[t("div",{staticClass:"sign-in-popup"},[this._m(0)]),this._v(" "),t("div",{staticClass:"page-overlay",on:{click:this.hidePopup}})])},o=[function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("sign-in-text")],2)}]},140:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("inspiration-content",null,{getRecommendedRecipe:e.getRecommendedRecipe,getRecommendedProduct:e.getRecommendedProduct,recommendedItem:e.recommendedItem,recommendedItems:e.recommendedItems,getNextRecommendation:e.getNextRecommendation,startCheeseBoardBuilder:e.startCheeseBoardBuilder,onShowRecommendedProduct:e.onShowRecommendedProduct,recommendedProduct:e.recommendedProduct,clearRecommendedProduct:e.clearRecommendedProduct,isExclusionShown:e.isExclusionShown,exclusionSelected:e.exclusionSelected,hideExclusion:e.hideExclusion,exclusions:e.exclusions,dataSet:e.dataSet})],2)},o=[]},141:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"find-favourite-holder"},[n("div",{staticClass:"find-favourite__inner"},[n("div",{staticClass:"find-favourite-image",attrs:{"data-is-best-match":e.recommendedItem.isBestMatch}},[n("picture",[n("source",{attrs:{srcset:e.recommendedItem.images.desktop,media:"(min-width: 1024px)"}}),e._v(" "),n("source",{attrs:{srcset:e.recommendedItem.images.tablet,media:"(min-width: 768px)"}}),e._v(" "),n("source",{attrs:{srcset:e.recommendedItem.images.mobile,media:"(min-width: 415px)"}}),e._v(" "),n("img",{ref:"picture",attrs:{srcset:e.recommendedItem.images.default,alt:e.recommendedItem.heading}})]),e._v(" "),e.recommendedItem.isBestMatch?n("div",{staticClass:"recipe-best-match"},[n("div",{staticClass:"recipe-best-match__inner"},[n("p",[e._v(e._s(e.bestMatchText))])])]):e._e()]),e._v(" "),n("div",{staticClass:"find-favourite-content"},[n("h3",{staticClass:"find-favourite-heading"},[e._v(" "+e._s(e.recommendedItem.heading))]),e._v(" "),n("div",{staticClass:"find-favourite-flavors"},e._l(e.recommendedItem.topFlavours,function(t){return n("span",{key:t.hex,staticClass:"recipe-flavors"},[n("span",{staticClass:"recipe-flavors__icon",style:{backgroundColor:"#"+t.hex}}),e._v("\n          "+e._s(t.name)+"\n        ")])}),0),e._v(" "),n("div",{staticClass:"find-favourite-description"},[n("p",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:e.numberOfLines,expression:"numberOfLines",arg:"20"}],ref:"descriptionContent"},[n("span",{ref:"descriptionHolder"},[e._v(e._s(e.recommendedItem.description))])]),e._v(" "),e.recommendedItem.description&&e.isTruncateButtonNeeded?n("button",{staticClass:"find-favourite-show-more",on:{click:e.toggleMore}},[2==e.numberOfLines?n("span",[e._v(e._s(e.showText))]):n("span",[e._v(e._s(e.hideText))])]):e._e()]),e._v(" "),e.recommendedItem.packshotImage?n("div",{staticClass:"find-favourite-recommended-product"},[n("img",{attrs:{alt:e.recommendedItem.heading,src:e.recommendedItem.packshotImage}})]):e._e(),e._v(" "),n("a",{staticClass:"find-favourite-show-full-recipe",class:{"js-show-card":e.isRecipe},attrs:{href:e.recommendedItem.url,"data-name":e.recommendedItem.heading,"data-is-best-match":e.recommendedItem.isBestMatch}},[e._v("\n        "+e._s(e.openProductButton))])])])])},o=[]},142:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"find-favourite-wrapper"},[n("h3",{staticClass:"find-favourite__title"},[e._v(e._s(e.title))]),e._v(" "),n("h4",{staticClass:"find-favourite__subtitle"},[e._v(e._s(e.subtitle))]),e._v(" "),n("recommended-content",{attrs:{"is-recipe":e.isRecipe,"recommended-item":e.recommendedItem,"best-match-text":e.bestMatchText,"open-product":"openProduct","open-product-button":e.openProductButton,"show-text":"showText","hide-text":"hideText"}})],1)},o=[]},143:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.config.countryList.length?n("div",{staticClass:"country-picker"},[n("div",{staticClass:"country-picker__inner"},[n("button",{staticClass:"country-picker__link",on:{click:e.showPopup}},[e._v("\n      "+e._s(e.current.name)+"\n      "),n("svg",{staticClass:"country-picker__icon"},[n("use",{attrs:{"xlink:href":"#icon-globe"}})])]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"country-picker__dropdown",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selected=t.target.multiple?n:n[0]}}},e._l(e.countryList,function(t,i){return n("option",{key:i,domProps:{value:t.href}},[e._v("\n        "+e._s(t.name)+"\n      ")])}),0)])]):e._e()},o=[]},144:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"country-picker__overlay"},[n("div",{staticClass:"country-picker__overlay-bg",on:{click:e.hideOverlay}}),e._v(" "),n("div",{staticClass:"country-picker__overlay-content"},[n("h3",{staticClass:"country-picker__overlay-content__title"},[e._v(e._s(e.overlayTitle))]),e._v(" "),n("div",{staticClass:"country-picker__country-list-holder"},e._l(e.list,function(t,i){return n("ul",{key:i,staticClass:"country-picker__country-list"},e._l(t,function(t,i){return n("li",{key:i,class:{selected:t.current}},[n("a",{attrs:{href:t.href}},[n("span",{domProps:{innerHTML:e._s(t.name)}}),e._v(" "),t.lang?n("span",{staticClass:"country-picker__country-list-lang"},[e._v("("),n("span",{domProps:{innerHTML:e._s(t.lang)}}),e._v(")\n            ")]):e._e()])])}),0)}),0)])])},o=[]},145:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"find-favourite-wrapper"},[n("h3",{staticClass:"find-favourite__title"},[e._v(e._s(e.title))]),e._v(" "),n("h4",{staticClass:"find-favourite__subtitle"},[e._v(e._s(e.subtitle))]),e._v(" "),n("div",{staticClass:"cheese-board__mobile-swipe-help-text-wrap"},[n("strong",{staticClass:"cheese-board__mobile-swipe-help-text"},[e._v(e._s(e.swipeHint))])]),e._v(" "),n("div",{key:e.domkey},[n("div",{ref:"board",staticClass:"cheese-board-holder",attrs:{role:"application","data-base-path":e.basePath,"data-endpoint":e.endPoint,"data-event-name":e.eventName,"data-random-factor":e.randomFactor}})])])},o=[]},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(10)),o=s(n(404)),a=s(n(58)),r=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={},n=void 0,s=void 0,c=!1;function l(e){if(e.data==YT.PlayerState.PLAYING&&!c){try{r.default.video(e.target.getVideoData().title)}catch(e){console.log(e)}c=!0}}return t.destroy=function(){n&&n.stopVideo()},function(e){e&&(s=(0,i.default)(e),(0,a.default)(s[0].querySelectorAll("img")),s.data("youtube-video")||o.default.load().then(function(){s.data("youtube-video",!0),s.find(".js-play-button").on("click",function(e){e.preventDefault(),function(e){n=new YT.Player("video-"+e,{playerVars:{autoplay:1,rel:0,list:e,modestbranding:1,controls:0},events:{onStateChange:l},videoId:e})}(s.data("id"))})}))}(e),t}},184:function(e,t,n){"use strict";n.r(t);var i=n(78),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(133),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},185:function(e,t,n){"use strict";n.r(t);var i=n(80),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(130),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},186:function(e,t,n){"use strict";n.r(t);var i=n(83),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(132),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},187:function(e,t,n){"use strict";n.r(t);var i=n(84),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(134),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParamsFromUrl=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(10));n(410);var a=s(n(126)),r=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.getParamsFromUrl=function(){return{query:(e="search",t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search),e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))).split(",").filter(Boolean),filters:window.location.pathname.split(window.baseUrl).join("").split("/").filter(Boolean)};var e,t},l=function(e){var t=(0,o.default)();return e.each(function(e,n){var i=(0,o.default)(n).parent().clone();i.append('<button class="overview-filter__tag-remove js-remove-button"></button>'),t=t.add(i)}),t},u="is-opened",d="is-sticky",f="is-visible",p="is-selected",h="is-search-active",v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$root=(0,o.default)(".js-filter-root"),this.$root&&this.init()}return i(e,[{key:"findNodes",value:function(){this.$header=(0,o.default)(".js-header"),this.$filterOpener=this.$root.find(".js-filter-opener"),this.$filterBlocks=this.$root.find(".js-filter-tags"),this.$filterBtn=this.$root.find(".js-overview-filter-item"),this.$dropdownContainer=this.$root.find(".js-filters-dropdown-container"),this.$selectedContainer=this.$root.find(".js-filter-selected-container"),this.$selectedList=this.$root.find(".js-filter-selected-items"),this.$searchField=this.$root.find(".js-filter-search"),this.$searchFieldInput=this.$root.find(".js-search-field"),this.$searchFieldClose=this.$root.find(".js-search-close"),this.$searchForm=this.$root.find(".js-search-form"),this.searchQuery=[],this.cloneToDropdown()}},{key:"cloneToDropdown",value:function(){this.$dropdownContainer.append(this.$filterBlocks)}},{key:"toggleDropdown",value:function(e){var t=e.parent().index();e.hasClass(u)?(e.removeClass(u),this.$filterBlocks.eq(t).removeClass(u)):(this.$filterOpener.not(e).removeClass(u),e.addClass(u),this.$filterBlocks.removeClass(u).eq(t).addClass(u))}},{key:"closeDropdown",value:function(){this.$filterOpener.removeClass(u),this.$filterBlocks.removeClass(u)}},{key:"attachEvents",value:function(){var e=this;this.$root.on("sticky-start",function(){e.$header.addClass(d),e.$root.addClass(d)}),this.$root.on("sticky-end",function(){e.$header.removeClass(d),e.$root.removeClass(d)}),this.$filterOpener.on("click",function(t){t.preventDefault();var n=(0,o.default)(t.currentTarget);e.$root.parent().hasClass(d)||e.$root.parent().removeAttr("style"),e.toggleDropdown(n)}),this.$filterBtn.on("click",function(t){t.preventDefault(),(0,o.default)(t.currentTarget).toggleClass(p),e.renderFilterState()}),this.$root.on("click",".js-remove-button",function(t){t.preventDefault();var n=(0,o.default)(t.currentTarget).parent().find(".js-overview-filter-item");e.removeFilter(n.data("filterid"))}),this.$root.on("click",".js-remove-query-button",function(t){t.preventDefault();var n=(0,o.default)(t.currentTarget);e.removeQuery(n.data("query")),e.renderFilterState()}),(0,o.default)(window).on("scroll",function(){e.closeDropdown()}),this.$searchField.on("click",function(t){t.preventDefault(),e.openSearchField()}),this.$searchFieldClose.on("click",function(t){t.preventDefault(),e.closeSearchField()}),this.$searchForm.length&&this.$searchForm[0].addEventListener("submit",function(t){return t.preventDefault(),e.closeSearchField(),e.searchQuery.push(e.$searchFieldInput.val()),e.$searchFieldInput.val(""),e.renderFilterState(),!1})}},{key:"openSearchField",value:function(){var e=this;this.$filterBlocks.removeClass(u),this.$filterOpener.removeClass(u),this.$searchFieldInput.one(a.default,function(){e.$searchFieldInput.focus()}),this.$root.addClass(h)}},{key:"closeSearchField",value:function(){this.$searchFieldInput.blur(),this.$root.removeClass(h)}},{key:"removeFilter",value:function(e){this.$filterBtn.filter('[data-filterid="'+e+'"]').removeClass("is-selected"),this.renderFilterState()}},{key:"removeQuery",value:function(e){var t=this.searchQuery.indexOf(e);-1!==t&&this.searchQuery.splice(t,1)}},{key:"calculateFiltersState",value:function(){var e=[],t=[],n=this.$filterBtn.filter("."+p),i=this.searchQuery.join(",");n.each(function(n,i){var a=(0,o.default)(i),r=a.data("filterid");-1==e.indexOf(r)&&r&&(e.push(r),t.push({name:a.data("urlSegment"),sortIndex:a.data("sortIndex")}))});var a=function(e,t){var n=t?"?search="+t:"",i=""+window.baseUrl+e+n;if(window.history)return window.history.replaceState({},"",i),i}(t.sort(function(e,t){return e.sortIndex<t.sortIndex?-1:e.sortIndex>t.sortIndex?1:e.name>t.name?1:-1}).map(function(e){return e.name}).join("/"),i);return(0,o.default)(document).trigger("filters.update.url",a),(0,o.default)(document).trigger("search.filters",{filterIds:e,query:i}),n}},{key:"renderFilterState",value:function(){var e=this,t=(0,o.default)(),n=this.getQueryItems(),i=this.getSelectedFilters();if((t=t.add(n).add(i)).length){this.$selectedList.html(t),this.$selectedContainer.addClass(f),this.$root.parent().hasClass(d)||this.$root.parent().removeAttr("style");var a=[];t.each(function(e,t){var n=(0,o.default)(t).text();a.push(n)}),a.length&&r.default.selectFilters(a.sort())}else this.$selectedContainer.removeClass(f),setTimeout(function(){e.$selectedList.html("")},150)}},{key:"getSelectedFilters",value:function(){var e=this.calculateFiltersState();return l(e)}},{key:"getQueryItems",value:function(){var e=(0,o.default)();return this.searchQuery.forEach(function(t){var n='\n        <li>\n          <a href="#" class="overview-filter__tag-btn is-selected">'+t+'</a>\n          <button data-query="'+t+'" class="overview-filter__tag-remove js-remove-query-button"></button>\n        </li>\n        ';e=e.add(n)}),e}},{key:"setInitialFilterState",value:function(){var e=c(),t=e.filters,n=e.query;this.searchQuery=n;var i=[];if(n.length){var a=this.getQueryItems();this.$selectedList.append(a),this.$selectedContainer.addClass(f)}if(t.length){this.$filterBtn.each(function(){var e=(0,o.default)(this),n=e.data("urlSegment");t.indexOf(n)>-1&&(e.addClass(p),i.push(e.data("filterid")))});var r=l(this.$filterBtn.filter("."+p));r.length&&(this.$selectedList.append(r),this.$selectedContainer.addClass(f))}(i.length||n.length)&&(0,o.default)(document).trigger("search.filters.initial",{filterIds:i,query:n.join(",")})}},{key:"init",value:function(){this.findNodes(),this.$root.sticky({topSpacing:this.$header.height(),wrapperClassName:"sticky-filters",getWidthFrom:"body",zIndex:1e3}),this.setInitialFilterState(),this.attachEvents()}}]),e}();t.default=v},190:function(e,t,n){"use strict";n.r(t);var i=n(91),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(141),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},196:function(e,t,n){e.exports=n(197)},197:function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(198),n(394);var o=q(n(10)),a=q(n(395)),r=q(n(58)),s=q(n(59)),c=q(n(76)),l=q(n(399));n(400);var u=q(n(401)),d=q(n(403)),f=q(n(409)),p=q(n(188)),h=q(n(411)),v=q(n(413)),m=q(n(183)),g=q(n(414)),b=q(n(123)),y=q(n(415)),_=q(n(21)),k=q(n(12)),w=q(n(28)),C=q(n(22)),x=q(n(416)),S=q(n(418)),T=q(n(419)),P=q(n(420)),$=q(n(184)),j=q(n(187)),O=q(n(77)),F=q(n(421)),I=q(n(190)),L=q(n(422)),N=q(n(423)),M=q(n(424)),B=q(n(425)),A=q(n(186)),R=q(n(426)),E=q(n(427)),U=q(n(428)),D=q(n(429));function q(e){return e&&e.__esModule?e:{default:e}}c.default.use(R.default).use(E.default).use(D.default),c.default.config.productionTip=!1,o.default.noConflict(!0)(function(){new c.default({el:"#app",components:{UserProfile:x.default,NewUserDialog:S.default,CookieNotification:T.default,SignInPopup:P.default,OnBoardingPopup:$.default,AjaxLoader:j.default,FlavorsChart:O.default,FindFavorite:F.default,CountryPicker:N.default,CountryPickerOverlay:M.default,RecommendedContent:I.default,ShowRecommendedContent:L.default,CheeseBoardBuilder:B.default,CheeseBoardExclusions:A.default},data:function(){return{config:k.default,user:_.default}},watch:{"config.isUserProfileOpened":function(e){e&&C.default.openMyProfile(this.user.hasSeenSignIn)}},created:function(){this.config.fetch(),this.user.fetch()},mounted:function(){(0,l.default)(),h.default.init(),(new v.default).init(),f.default.init(),a.default.init(),(0,r.default)(document.querySelectorAll(".js-recipe-image")),(0,r.default)(document.querySelectorAll(".js-occasion-img")),(0,r.default)(document.querySelectorAll(".js-card-view-img")),(0,r.default)(document.querySelectorAll(".js-fifty-fifty-img")),(0,r.default)(document.querySelectorAll(".js-error-page-img")),(0,r.default)(document.querySelectorAll(".js-content-picker-img")),(0,r.default)(document.querySelectorAll(".js-page-hero-img"));var e=(0,o.default)('<div class="adimoWidget fake-button" data-static-touchpoint-identifier="null" data-type="recipe-lightbox"></div>');if(e.prependTo("body"),window.Adimo){var t=Adimo.utils.findButtonsWidget;Adimo.utils.findButtonsWidget=function(e,n){if(e&&e.parentNode&&"object"==(void 0===n?"undefined":i(n))){var o=e.parentNode.getAttribute("data-static-touchpoint-identifier");n[0].staticTouchpointIdentifier=o,n[0].popup=null}return t.apply(void 0,arguments)},window.Adimo.main.init("https://basketads.adimo.co",!1)}(new u.default).init(),new d.default({rootClass:".js-recipe-overview,.js-recipe-page,.js-inspiration-block",openerClass:".js-show-card",onBeforeOpenCallback:function(e){this.oldPagetype=window.pagetype;try{var t=(0,o.default)(e);C.default.showRecipe({recipeName:t.data("name"),cheeseType:t.data("cheeseType"),bestMatch:t.data("isBestMatch")?"Yes":"No",primaryFlavour:t.data("topFlavour"),recipeType:t.data("recipeType")})}catch(e){console.log(e)}},onOpenCallback:function(){if((new u.default).init(),(0,o.default)(".js-recipe-page").one("click",".js-close-page",function(e){e.preventDefault(),window.history.back()}),window.Adimo){var t=(0,o.default)(".js-recipe-page").find(".adimoWidget");t.append(e),e.attr("data-static-touchpoint-identifier",t.attr("data-static-touchpoint-identifier"))}},onCloseCallback:function(){window.pagetype=this.oldPagetype}}).init();var n=new d.default({rootClass:".js-generic-article-overview",openerClass:".js-show-article",onBeforeOpenCallback:function(e){this.oldPagetype=window.pagetype;try{var t=(0,o.default)(e).data("destinationName");C.default.destinationTrack({destinationName:t})}catch(e){console.log(e)}(0,o.default)(document).one("click",".js-close-page",function(e){e.preventDefault(),window.history.back()})},onCloseCallback:function(){window.pagetype=this.oldPagetype}});(new U.default).init(),window.addEventListener("popstate",function(){window.preventReloadOnPopState||window.location.reload()},!1),n.init(),(0,o.default)(".js-video-block").each(function(){new m.default(this)}),g.default.init(),(0,s.default)(),k.default.tieEnabled&&b.default.init(),y.default.init(),new p.default,C.default.init()},methods:{toggleUserProfile:function(){this.config.isUserProfileOpened=!this.config.isUserProfileOpened,this.config.isUserProfileOpened&&w.default.$emit("close-sign-in-popup")},globalOnboarding:function(){this.config.tieEnabled&&w.default.$emit("global-onboarding")},trackFooterLink:function(e){C.default.socialLink({socialMediaName:e})}}})})},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),o=r(n(124)),a=r(n(125));function r(e){return e&&e.__esModule?e:{default:e}}t.default={isLoggedIn:!1,isConnectedToFacebook:!1,isAuthProceed:!1,hasSeenSignIn:!1,fullName:"",pictureUrl:"",flavors:[],fakeFlavors:[{hex:"00B9CB",name:"Cooling",score:5},{hex:"000000",name:"Licorice",score:7},{hex:"73502D",name:"Woody",score:6},{hex:"60262C",name:"Earthy",score:3},{hex:"009B4B",name:"Vegetable",score:11},{hex:"E34A27",name:"Tomatoey",score:7},{hex:"BCA9D2",name:"Floral",score:2},{hex:"A63885",name:"Fruity",score:12.6},{hex:"D1D52F",name:"Citrusy",score:6.9},{hex:"FFE710",name:"Sour",score:4.4},{hex:"EF569F",name:"Tropical",score:8},{hex:"C8BFA1",name:"Vanilla",score:1},{hex:"F59CAF",name:"Sweet",score:13.1},{hex:"943A14",name:"Warm Brown Spice",score:8},{hex:"965F24",name:"Roasted/Toasted",score:11},{hex:"B6A466",name:"Nutty",score:6},{hex:"928C74",name:"Yeasty",score:7},{hex:"C7C8CA",name:"Starchy",score:3},{hex:"D08037",name:"Caramelized",score:2},{hex:"FEF3A0",name:"Buttery",score:5.8},{hex:"E8DEC4",name:"Sweet Cream",score:8.8},{hex:"FCAF17",name:"Cheesy",score:15},{hex:"4A3273",name:"Umami",score:7},{hex:"B9BBBC",name:"Smoky",score:3},{hex:"F47A5C",name:"Bitter",score:8},{hex:"B2A515",name:"Pungent Spice",score:2},{hex:"5B5451",name:"Peppery",score:5},{hex:"CF2229",name:"Heat",score:14},{hex:"6FAFA7",name:"Salty",score:6.9},{hex:"AED477",name:"Herby (Fresh)",score:13},{hex:"3D713A",name:"Herby (Woody)",score:3},{hex:"4B2611",name:"Coffee/Chocolatey",score:5},{hex:"DCD287",name:"Garlic/Onionish",score:11}],facebookData:null,fetch:function(){var e=this;return o.default.getUser(i.default.language).then(function(t){e.isAuthProceed=!0,e.isLoggedIn=t.isLoggedIn,e.isConnectedToFacebook=t.isConnectedToFacebook,e.fullName=t.fullName,e.flavors=t.flavors,a.default.getUserPictureProfile().then(function(t){var n=t.picture;e.pictureUrl=n.data.url})})},createTieUser:function(e,t){return o.default.postTieUser(i.default.language,{likes:e,dislikes:t})},createUser:function(e){var t=e.facebookId,n=e.fullName,a=e.pictureUrl,r=e.accessToken;return o.default.postUser(i.default.language,{facebookId:t,fullName:n,pictureUrl:a,accessToken:r})},signIn:function(e,t){return o.default.signInUser(i.default.language,{facebookId:e,accessToken:t})},signOut:function(){return o.default.signOutUser(i.default.language)},getUserRecommendation:function(){var e=this;return window.localStorage.getItem("recommendations")&&window.localStorage.getItem("recommendationsLanguage")&&window.localStorage.getItem("recommendationsLanguage")==i.default.language?new Promise(function(t){e.recommendedRecipes=JSON.parse(window.localStorage.getItem("recommendations")),e.recommendedRecipesPageSize=JSON.parse(window.localStorage.getItem("recommendationsPageSize"))||6,t()}):fetch("/"+i.default.language+"/api/recommendations/",{credentials:"same-origin"}).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(t){e.recommendedRecipesPageSize=t.pageSize,e.recommendedRecipes=Object.keys(t.items).sort(function(e,n){return t.items[n].compatibilityScore-t.items[e].compatibilityScore}).map(function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t.items[e])}),e.recommendedRecipes.length&&(window.localStorage.setItem("recommendations",JSON.stringify(e.recommendedRecipes)),window.localStorage.setItem("recommendationsPageSize",JSON.stringify(e.recommendedRecipesPageSize)),window.localStorage.setItem("recommendationsLanguage",i.default.language))}).catch(function(e){console.log(e)})},resetSavedRecommendation:function(){window.localStorage.removeItem("recommendations"),window.localStorage.removeItem("recommendationsPageSize"),window.localStorage.removeItem("recommendationsLanguage")},getFavoriteRecipe:function(e){return fetch("/"+i.default.language+"/api/recommendations/recipe?categoryId="+e,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw e;return e.json()})},getFavoriteProduct:function(){return fetch("/"+i.default.language+"/api/recommendations/product",{credentials:"same-origin"}).then(function(e){if(!e.ok)throw e;return e.json()})},getCBBProducts:function(e){return fetch("/"+i.default.language+"/api/products?ids="+e.join("&ids="),{credentials:"same-origin"}).then(function(e){if(!e.ok)throw e;return e.json()})}}},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(10)),o=c(n(21)),a=c(n(12)),r=c(n(402)),s=c(n(60));function c(e){return e&&e.__esModule?e:{default:e}}t.default=new function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(){var e=o.default.isLoggedIn,t=s.default.get("flavour-profile");return{userAttribute:r.default[e?"userAttributeLoggedIn":"userAttributeNotLoggedIn"],flavourProfileCreated:r.default[void 0!==t?"flavorProfileCreated":"flavorProfileNotCreated"],pageType:window.pagetype}}(),n=Object.assign({},t,e);window.dataLayer&&window.dataLayer.push(n)},t=function(t){var n=t.destinationName;e({destinationName:n,event:"clickDestinationLink"})};return{init:function(){(0,i.default)(".js-learn-more").on("click",function(){e({event:"clickLearnMoreFrontpage"})}),(0,i.default)("body").on("click",".js-cta-button",function(t){!function(t){e({ctaButtonName:t,event:"goToCTAOverlay"})}((0,i.default)(t.currentTarget).text())}),(0,i.default)(".js-occasion-show-more").on("click",function(t){!function(t){e({occasionName:t,event:"selectOccasion"})}((0,i.default)(t.currentTarget).text())}),(0,i.default)(".js-product-item").on("click",function(t){var n=(0,i.default)(t.currentTarget),o=n.data("name");!function(t){e({productName:t.productName,cheeseType:t.cheeseType,event:"selectProduct"})}({cheeseType:n.data("type"),productName:o})}),(0,i.default)(".js-destination-link").on("click",function(e){var n=(0,i.default)(e.currentTarget).data("destinationName");t({destinationName:n})}),e()},track:e,expandMenu:function(){e({event:"expandMenu"})},selectedMenu:function(t){e({menuItem:t,event:"selectMenuItem"})},logo:function(){e({event:"clickLogoButton"})},selectFilters:function(t){e({filterName:t.join(","),event:"selectFilter"})},openMyProfile:function(t){e({popUpNotification:t?"Yes":"No",event:"clickMyProfile"})},getStarted:function(){e({event:a.default.isUserProfileOpened?"clickGetStartedOverlay":"clickGetStartedFrontpage"})},signInWithFacebook:function(){e({event:"signInWithFacebook"})},learnMore:function(){e({event:"clickMoreInformationOverlay"})},onboarding:function(t){var n=t.questionsToNumberOfQuestions,i=t.typeOfDishes;e({questionsToNumberOfQuestions:n,typeOfDishes:i,event:"selectDishes"})},saveWithFacebook:function(){e({event:"saveWithFacebook"})},signOut:function(){e({event:"signOut"})},selectRecipe:function(t){var n=t.recipeType,i=t.recipeName,o=t.primaryFlavour;e({recipeType:n,recipeName:i,primaryFlavour:o,event:"occasionsSelectRecipe"})},scrollContentPicker:function(t){var n=t.recipeType,i=t.primaryFlavour;e({primaryFlavour:i,recipeType:n,event:"occasionsScrollRecipes"})},showRecipe:function(t){var n=t.recipeType,i=t.recipeName,o=t.primaryFlavour,a=t.bestMatch,r=t.cheeseType;e({recipeType:n,recipeName:i,primaryFlavour:o,bestMatch:a,cheeseType:r,event:"selectRecipe"})},showIngredients:function(t){var n=t.recipeType,i=t.recipeName,o=t.primaryFlavour,a=t.bestMatch,r=t.cheeseType;e({recipeType:n,recipeName:i,primaryFlavour:o,bestMatch:a,cheeseType:r,event:"showIngredients"})},relatedRecipes:function(t){var n=t.recipeType,i=t.recipeName,o=t.primaryFlavour,a=t.bestMatch,r=t.cheeseType,s=t.relatedRecipe;e({recipeType:n,recipeName:i,primaryFlavour:o,bestMatch:a,cheeseType:r,relatedRecipe:s,event:"recipeClickRelatedRecipe"})},likeRecipe:function(t){var n=t.recipeType,i=t.recipeName,o=t.primaryFlavour;e({recipeType:n,recipeName:i,primaryFlavour:o,event:"likeRecipe"})},dislikeRecipe:function(t){var n=t.recipeType,i=t.recipeName,o=t.primaryFlavour;e({recipeType:n,recipeName:i,primaryFlavour:o,event:"dislikeRecipe"})},productUsed:function(t){var n=t.relatedProduct,i=t.recipeType,o=t.recipeName,a=t.primaryFlavour,r=t.cheeseType;e({recipeType:i,recipeName:o,primaryFlavour:a,cheeseType:r,relatedProduct:n,event:"clickProductUsed"})},allRecipes:function(t){var n=t.recipeType,i=t.recipeName,o=t.primaryFlavour,a=t.cheeseType;e({recipeType:n,recipeName:i,primaryFlavour:o,cheeseType:a,event:"clickAllRecipes"})},productUsedOnProduct:function(t){var n=t.relatedProduct,i=t.cheeseType;e({cheeseType:i,relatedProduct:n,event:"productPageClickRelatedProducts"})},relatedRecipeProduct:function(t){var n=t.cheeseType,i=t.relatedRecipe;e({cheeseType:n,relatedRecipe:i,event:"clickRelatedRecipe"})},allRecipesProduct:function(t){var n=t.productName,i=t.cheeseType;e({productName:n,cheeseType:i,event:"productPageClickAllRecipes"})},socialLink:function(t){var n=t.socialMediaName;e({socialMediaName:n,event:"clickSocialMedia"})},video:function(t){e({videoName:t,event:"playVideo"})},destinationTrack:t,signInWithFacebookOverlay:function(){e({event:"overlaySignInWithFacebook"})}}}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(76));t.default=new i.default},399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=window.breakpoint={};e.refreshValue=function(){this.value=window.getComputedStyle(document.querySelector("body"),":after").getPropertyValue("content").replace(/\"/g,"")},(0,i.default)(window).resize(function(){e.refreshValue()}).resize()};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10))},400:function(e,t,n){"use strict";n.p=window.cdnPath},401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n(10)),a=u(n(59)),r=u(n(58)),s=u(n(123)),c=u(n(22)),l=u(n(28));function u(e){return e&&e.__esModule?e:{default:e}}var d={class:{isActive:"is-active"},selector:{}},f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.findNodes(),this.topFlavors=null}return i(e,[{key:"findNodes",value:function(){this.$root=(0,o.default)(".js-recipe-page"),this.$showIngredients=this.$root.find(".js-show-ingredients"),this.$ingredientsList=this.$root.find(".js-ingredients-list"),this.$primaryFlavors=this.$root.find(".js-primary-flavors")}},{key:"attachEvents",value:function(){var e=this;this.$showIngredients.on("click",function(t){e.toggleIngredientsList(t),e.changeButtonStyle()}),this.$root.find(".related-recipes__recipe > a").on("click",function(t){try{var n=(0,o.default)(t.currentTarget).parent().find(".js-recipe-name").text().trim(),i=e.getRecipeInformation();i.relatedRecipe=n,c.default.relatedRecipes(i)}catch(e){console.log(e)}}),this.$root.find(".js-related-products").on("click",function(t){try{var n=(0,o.default)(t.currentTarget).data("name"),i=e.getRecipeInformation();i.relatedProduct=n,c.default.productUsed(i)}catch(e){console.log(e)}}),this.$root.find(".js-all-recipes").on("click",function(){try{var t=e.getRecipeInformation();c.default.allRecipes(t)}catch(e){console.log(e)}}),l.default.$off("like-recipe").$on("like-recipe",function(){try{var t=e.getRecipeInformation();c.default.likeRecipe(t)}catch(e){console.log(e)}}),l.default.$off("dislike-recipe").$on("dislike-recipe",function(){try{var t=e.getRecipeInformation();c.default.dislikeRecipe(t)}catch(e){console.log(e)}})}},{key:"attachPrimaryFlavors",value:function(){var e=this;this.topFlavors.forEach(function(t){e.$primaryFlavors.append('\n        <span class="recipe-flavors">\n          <span class="recipe-flavors__icon" style="background: #'+t.hex+'"></span>\n          '+t.name+"\n        </span>\n      ")})}},{key:"getRecipePrimaryFlavors",value:function(){var e=this;fetch(d.api.topFlavors).then(function(e){return e.json()}).catch(function(e){return console.log("error is",e)}).then(function(t){e.topFlavors=t.topFlavors,e.attachPrimaryFlavors()})}},{key:"changeButtonStyle",value:function(){this.$showIngredients.toggleClass(d.class.isActive),this.$root.toggleClass(d.class.isActive);var e=this.$showIngredients;e.text()==e.data("text-swap")?e.text(e.data("text-original")):(e.data("text-original",e.text()),e.text(e.data("text-swap")))}},{key:"toggleIngredientsList",value:function(e){if(e.stopPropagation(),this.$ingredientsList.toggleClass(d.class.isActive),this.$ingredientsList.hasClass(d.class.isActive)){var t=this.getRecipeInformation();c.default.showIngredients(t)}}},{key:"getRecipeInformation",value:function(){return{recipeName:this.$root.find("h1.js-recipe-name").text(),bestMatch:this.$root.find(".recipe-best-match").length?"Yes":"No",recipeType:this.$root.data("recipeType"),cheeseType:this.$root.data("cheeseType"),primaryFlavour:this.$root.data("primaryFlavour")}}},{key:"init",value:function(){var e=this;this.$root.length&&((0,a.default)(),d.tieEnabled&&s.default.searchForLikeNodes(this.$root),setTimeout(function(){(0,r.default)(e.$root[0].querySelectorAll("img"))},0),this.attachEvents())}}]),e}();t.default=f},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={userAttributeLoggedIn:"Logged in",userAttributeNotLoggedIn:"Not logged in",flavorProfileCreated:"Has flavour profile",flavorProfileNotCreated:"No flavour profile"}},403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=g(n(10)),a=g(n(76)),r=g(n(126)),s=g(n(183)),c=g(n(405)),l=g(n(58)),u=g(n(59)),d=g(n(12)),f=g(n(21)),p=g(n(28)),h=g(n(184)),v=g(n(187)),m=g(n(77));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(){function e(t){var n=t.rootClass,i=void 0===n?"":n,o=t.footerClass,a=void 0===o?".site-footer":o,r=t.openerClass,s=void 0===r?".js-show-card":r,c=t.onBeforeOpenCallback,l=void 0===c?function(){}:c,u=t.onOpenCallback,d=void 0===u?function(){}:u,f=t.onCloseCallback,p=void 0===f?function(){}:f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=i,this.footerClass=a,this.openerClass=s,this.onOpenCallback=d,this.onCloseCallback=p,this.onBeforeOpenCallback=l,this.findNodes()}return i(e,[{key:"findNodes",value:function(){this.$root=(0,o.default)(this.root),this.$content=(0,o.default)(".site-content__inner"),this.$contentWrap=(0,o.default)(".site-content"),this.$footer=(0,o.default)(this.footerClass),this.hadSplitFooter=this.$footer.hasClass("split-view"),this.htmlCache={},this.initialized=!1}},{key:"appendTransitionNode",value:function(){this.$contentWrap.append('\n      <div class="site-content-overlay" id="page-transition"></div>\n      '),this.$transitionContainer=(0,o.default)("#page-transition")}},{key:"fetchPage",value:function(e){var t=this;return new Promise(function(n){t.htmlCache[e]?n(t.htmlCache[e]):o.default.ajax({url:e+"?l=s"}).then(function(i){n(i),t.htmlCache[e]=i})})}},{key:"openPage",value:function(e){var t=this,n=e.url,i=e.currentTarget,a=this,r=void 0;return new Promise(function(e){r=setTimeout(function(){d.default.isLoading=!0},250),t.fetchPage(n).then(function(n){r&&clearTimeout(r);var s=(0,o.default)("<div>"+n+"</div>"),c=s.find("title").text();s.find(".generic-split-wrap").length?a.$footer.addClass("split-view"):a.$footer.removeClass("split-view"),d.default.isLoading=!1,setTimeout(function(){t.showPage(n,i),e(c),t.initPopState()},0)})})}},{key:"showPage",value:function(e,t){var n=this;window.isPageOverlayShown||this.$transitionContainer.one(r.default,function(){n.$transitionContainer.addClass("is-animated"),n.$content.detach(),window.scrollTo(0,0),n.initComponents(),n.onOpenCallback&&n.onOpenCallback(t)}),this.onBeforeOpenCallback&&this.onBeforeOpenCallback(t),this.$transitionContainer.addClass("no-transition").removeClass("is-animated").removeClass("is-full-page").children().empty(),this.$transitionContainer.html(e).removeClass("no-transition").addClass("is-visible").addClass("is-full-page"),window.isPageOverlayShown&&(this.$transitionContainer.addClass("is-animated"),window.scrollTo(0,0),this.initComponents(),this.onOpenCallback&&this.onOpenCallback(t)),window.isPageOverlayShown=!0}},{key:"closePage",value:function(){var e=this;window.isPageOverlayShown=!1,this.$contentWrap.append(this.$content),this.$transitionContainer.removeClass("is-animated").removeClass("is-full-page"),this.$transitionContainer.one(r.default,function(){e.$transitionContainer.removeClass("is-visible")}),this.hadSplitFooter?this.$footer.addClass("split-view"):this.$footer.removeClass("split-view"),this.destroyComponents(),this.onCloseCallback&&this.onCloseCallback()}},{key:"initComponents",value:function(){var e=this;this.$contentWrap.find(".js-video-block").each(function(){e.videoBlock=new s.default(this)}),(0,o.default)(".article-page").length&&new a.default({el:".article-page",components:{OnBoardingPopup:h.default,AjaxLoader:v.default,FlavorsChart:m.default},data:function(){return{config:d.default,user:f.default}},created:function(){this.config.fetch(),this.user.fetch()},methods:{globalOnboarding:function(){p.default.$emit("global-onboarding")}}}),new c.default,(0,l.default)(document.querySelectorAll(".js-generic-image")),(0,u.default)()}},{key:"destroyComponents",value:function(){this.videoBlock&&this.videoBlock.destroy()}},{key:"initPopState",value:function(){this.initialized||(this.initialized=!0,window.preventReloadOnPopState=!0)}},{key:"attachEvents",value:function(){var e=this,t=this;(0,o.default)(document).on("click",this.openerClass,function(t){if("button"!==t.target.nodeName.toLocaleLowerCase()){t.preventDefault();var n=t.currentTarget.href;e.openPage({url:n,currentTarget:t.currentTarget}).then(function(e){!function(e){var t=e.url,n=e.title;window.history.pushState({url:t,title:n},"",t),window.document.title=n}({url:n,title:e})})}}),window.addEventListener("popstate",function(e){!e.state||e.state&&!e.state.url?t.closePage():t.openPage(e.state)},!1),new c.default,(0,l.default)(document.querySelectorAll(".js-generic-image")),(0,u.default)()}},{key:"init",value:function(){this.$root.length&&(this.appendTransitionNode(),this.attachEvents())}}]),e}();t.default=b},404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=void 0;return{load:function(){return e||(e=new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onload=e,n.onerror=t,n.async=!0,n.src="https://www.youtube.com/iframe_api"})),e}}}();t.default=i},405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(10)),o=a(n(406));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=window.showMoreText||"Show more",t=window.showLessText||"Show less",n=void 0,a=void 0,r=void 0,s=function(e){e.each(function(e,t){var n=(0,i.default)(t),o=n.html();n.removeClass("full-text-showed"),n.data("fullText")||n.data("fullText",o),n.html(n.data("fullText"));var r=n.data("fullText").split(" "),s=r.length;if(c(n,r),n.data("ellipsis")){var l=parseFloat(n.css("lineHeight"))*n.data("ellipsis");n.height(l)}for(var u=0;u<s;u++){var d=n.find(".text").height();if(!(n.find(".text").prop("scrollHeight")>d))break;r.pop(),r[r.length-1]+=" ...",c(n,r),n.data("truncatedText",r.join(" "))}if(void 0===n.data("truncatedText")&&(n.addClass("hide-button"),n.removeClass("with-button").removeAttr("style")),void 0!==a.data("colorCode")){var f=a.data("colorCode");a.css("color",f),a.next().css("color",f)}})},c=function(e,t){e.html("").append('<span class="text"></span>').find(".text").html(t.join(" "))},l=function(t){t.data("showButton")&&(t.addClass("with-button"),(0,i.default)('<button class="show-more-button">'+e+"</button>").insertAfter(t))},u=function(o){var a=(0,i.default)(o.currentTarget),r=a.prev(),s=r.find(".text");a.hasClass("full")?(a.removeClass("full").text(e),s.text(r.data("truncatedText")),r.removeClass("full-text-showed").animate({height:n},300)):(a.addClass("full").text(t),n=r.innerHeight(),r.addClass("full-text-showed"),s.text(r.data("fullText")),r.animate({height:s.height()},300))};return function(){if(a=(0,i.default)(document).find("[data-ellipsis]"),function(){s(a),l(a);var e=(0,o.default)(function(){s(a)},50);r=window.breakpoint.value,window.addEventListener("resize",function(){r!==window.breakpoint.value&&(r=window.breakpoint.value,e(),(0,i.default)(".show-more-button").removeClass("full"))}),(0,i.default)(".show-more-button").on("click",function(e){u(e)})}(),void 0!==a.data("colorCode")){var e=a.data("colorCode");a.next().css("color",e)}}(),{}}},406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i;return function(){var o=this,a=arguments,r=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(o,a)},t),r&&e.apply(o,a)}}},407:function(e,t,n){"use strict";n.r(t);var i=n(79),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(128),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(10)),o=s(n(126)),a=s(n(12)),r=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}t.default=new function(){var e=void 0,t=void 0,n=void 0,s=void 0,c=!1,l=void 0,u=void 0,d=void 0,f=void 0,p=function(){c=!1,a.default.isNavigationOpened=!1,e.one(o.default,function(){e.removeClass("is-closing")}),e.addClass("is-closing"),e.removeClass("is-opened"),t.removeClass("navigation-is-opened"),n.removeClass("navigation-is-opened"),s.removeClass("is-active"),e.attr("aria-hidden",!0),u.removeAttr("aria-hidden"),d.removeClass("is-visible")};return{init:function(){(e=(0,i.default)(".js-navigation")).length&&(d=(0,i.default)(".js-navigation-overlay"),s=(0,i.default)(".js-open-navigation"),t=(0,i.default)(".js-site-content"),n=(0,i.default)(".js-header"),f=(0,i.default)(".js-logo"),l=e.find(".js-expand-item"),u=(0,i.default)(".site-wrapper"),s.on("click",function(i){i.preventDefault(),c?p():(c=!0,a.default.isNavigationOpened=!0,e.addClass("is-opened"),t.addClass("navigation-is-opened"),n.addClass("navigation-is-opened"),s.addClass("is-active"),e.attr("aria-hidden",!1),u.attr("aria-hidden",!0),d.addClass("is-visible"),r.default.expandMenu())}),l.on("click",function(t){t.preventDefault(),function(t){t.hasClass("is-menu-opened")?t.removeClass("is-menu-opened"):(e.find(".is-menu-opened").removeClass("is-menu-opened"),t.addClass("is-menu-opened"))}((0,i.default)(t.currentTarget).parents(".js-menu-item"))}),d.on("click",function(e){e.preventDefault(),p()}),e.find("a").on("click",function(e){r.default.selectedMenu((0,i.default)(e.currentTarget).text().trim())}),f.on("click",function(){r.default.logo()}),(0,i.default)(document).on("filters.update.url",function(t,n){!function t(n){var o=e.find("li a"),a=!1;o.each(function(){var e=(0,i.default)(this),t=e.attr("href");t!=n+"/"&&t!=n||(a=!0,o.parent().removeClass("active"),e.parent().addClass("active"))}),a||t(window.baseUrl)}(n)}))}}}},411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(10)),o=p(n(412)),a=p(n(59)),r=p(n(123)),s=p(n(12)),c=p(n(21)),l=p(n(28)),u=p(n(22)),d=p(n(60)),f=n(188);function p(e){return e&&e.__esModule?e:{default:e}}t.default=new function(){var e={},t=void 0,n=void 0,p=void 0,h=void 0,v=void 0,m=!1,g=void 0,b=1,y=!1,_=void 0,k=void 0,w=void 0,C=void 0,x=function(e,t){return s.default.tieEnabled&&n&&!(t&&t.length)&&!e},S=function(e,t){return e.reduce(function(e,n,i){var o=Math.floor(i/t);return e[o]||(e[o]=[]),e[o].push(n),e},[])},T=function(){y=!0,s.default.isLoading=!1,t.html(" "),v.addClass("is-shown")},P=function(){var e=[];return _[b]?(_[b].forEach(function(t){e.push(Object.keys(t)[0])}),k=i.default.ajax({data:{ids:e},url:"/"+h+"/api/recipes/"}),b+=1,k):(y=!0,new Promise(function(e){e({})}))},$=function(e,t){return m=!0,w=e,C=t,x(e,t)?_?P():c.default.getUserRecommendation().then(function(){return _=S(c.default.recommendedRecipes,c.default.recommendedRecipesPageSize),P()}):function(e,t){return b+=1,k=i.default.ajax({data:{pageNumber:b,filterIds:t,query:e},url:"/"+h+"/api/recipes/search/"})}(e,t)},j=function(e){_[b-1].forEach(function(t){var n=Object.keys(t);t[n].compatibilityScore>=g&&e.find('[data-recipe-id="'+n+'"]').parent().attr("data-is-best-match",!0)})},O=function(e,n,o){var c=(0,i.default)(e.html);x(n,o)&&j(c),t.html(c),(0,a.default)(),s.default.tieEnabled&&r.default.searchForLikeNodes(c),s.default.isLoading=!1},F=function(e,n){m||y||window.isPageOverlayShown||t[0].getBoundingClientRect().bottom<=2.5*window.innerHeight&&$(e,n).then(function(o){m=!1,s.default.isLoading=!1,o.html?function(e,n,o){var c=(0,i.default)(e.html);x(n,o)&&j(c),t.append(c),(0,a.default)(),s.default.tieEnabled&&r.default.searchForLikeNodes(c)}(o,e,n):y=!0})};return e.init=function(){if((t=(0,i.default)(".js-endless-scroll")).length){g=t.data("compatibilityScore"),n=void 0!==d.default.get("flavour-profile"),v=(0,i.default)(".js-endless-scroll-empty"),h=window.siteLocale,p=(0,i.default)(window),(0,a.default)(),p.on("scroll.inspiration",function(){(0,o.default)(function(){F(w,C)})}),(0,i.default)(document).on("search.filters",function(e,n){b=0,y=!1;var a=n.query,r=n.filterIds;v.removeClass("is-shown"),m&&k&&k.abort(),s.default.isLoading=!0,$(a,r).then(function(e){var n=(0,i.default)(".js-filter-root"),s=t.offset().top-n.outerHeight(!0);window.scrollY>s&&(0,o.default)(function(){window.scroll(0,s),n.removeAttr("style")}),m=!1,e.html||0!=b&&1!=b?(O(e,a,r),F(a,r)):T()})}),l.default.$on("like-recipe-link",function(e){try{var t=(0,i.default)(e).parents(".recipe-card");if(!t.length)return;u.default.likeRecipe({recipeName:t.data("name"),primaryFlavour:t.data("topFlavour"),recipeType:t.data("recipeType")})}catch(e){console.log(e)}}),l.default.$on("dislike-recipe-link",function(e){try{var t=(0,i.default)(e).parents(".recipe-card");if(!t.length)return;u.default.dislikeRecipe({recipeName:t.data("name"),primaryFlavour:t.data("topFlavour"),recipeType:t.data("recipeType")})}catch(e){console.log(e)}});var e=(0,f.getParamsFromUrl)(),r=e.filters,x=e.query;if(n)if(b=0,r.length||x.length)t.find(".recipes-overview__inner").length||T();else{var P=setTimeout(function(){s.default.isLoading=!0},150);c.default.getUserRecommendation().then(function(){P&&clearTimeout(P),_=S(c.default.recommendedRecipes,c.default.recommendedRecipesPageSize),$().then(function(e){m=!1,O(e),F()})}).catch(function(){m=!1})}(0,i.default)(document).on("search.filters.initial",function(e,t){b=1,w=t.query,C=t.filterIds})}},e}},412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};t.default=i},413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(10)),a=s(n(59)),r=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}n(189);var c="is-active",l=".js-content-picker",u=".content-picker__item",d=".js-content-picker-carousel",f=".content-picker__carousel-nav__next",p=".content-picker__carousel-nav__prev",h=".js-content-picker-wine",v=".content-picker__course-description",m=".wine-item",g=".js-wine-holder",b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.findNodes(),this.activeIndex=0}return i(e,[{key:"findNodes",value:function(){this.$root=(0,o.default)(l),this.$contentPickerItem=this.$root.find(u),this.$contentPickerDescription=this.$root.find(v),this.$carouselWrap=this.$root.find(d),this.$carouselNext=this.$root.find(f),this.$carouselPrev=this.$root.find(p),this.$contentPickerWine=this.$root.find(h),this.$wineItems=this.$root.find(m),this.$wineHolder=this.$root.find(g)}},{key:"attachOwlCarousel",value:function(){var e=this,t=this;this.$carouselWrap.each(function(n,i){var a=(0,o.default)(i),s=a.parent().find(e.$carouselNext),l=a.parent().find(e.$carouselPrev),u=a.parent().find(e.$contentPickerDescription),d="main-course"==a.data("val");a.owlCarousel({items:1,margin:0,loop:!0,mouseDrag:!1,touchDrag:!1,navText:["",""],smartSpeed:500,onInitialized:function(e){var n=-1!=e.page.index?e.page.index:0;d&&t.changeWine(a,n,-1!=e.item.index?e.item.index:0),a.find(".js-occasion-recipe").on("click",function(){var e=u.filter(".is-active"),t=[];e.find(".recipe-flavors").each(function(){t.push((0,o.default)(this).text().trim())}),t=t.join(",");try{r.default.selectRecipe({recipeType:e.find(".content-picker__dish-type").text().trim(),recipeName:e.find(".content-picker__dish-name").text().trim(),primaryFlavour:t})}catch(e){console.log(e)}})},onChanged:function(e){var n=-1!=e.page.index?e.page.index:0,i=-1!=e.item.index?e.item.index:0;d&&n>-1&&t.changeWine(a,n,i),n>-1&&function(e,t){t.removeClass(c),t.eq(e).addClass(c)}(n,u)},onTranslated:function(){var e=u.filter(".is-active"),t=[];e.find(".recipe-flavors").each(function(){t.push((0,o.default)(this).text().trim())}),t=t.join(",");try{r.default.scrollContentPicker({recipeType:e.find(".content-picker__dish-type").text().trim(),primaryFlavour:t})}catch(e){console.log(e)}}}),s.click(function(){a.trigger("next.owl.carousel")}),l.click(function(){a.trigger("prev.owl.carousel")})})}},{key:"changeWine",value:function(e,t,n){n||(n=0);var i=e.find(".item").eq(n),a=i.data("grapes")?i.data("grapes").split(","):[];if(this.$wineItems.removeClass(c),a.length){var r=0,s=-1,l="";this.$wineItems.each(function(e){var t=(0,o.default)(this),n=(t.data("grapes")?t.data("grapes").split(","):[]).filter(function(e){return-1!=a.indexOf(e)});n.length>r&&(r=n.length,s=e,l=n.join(", "))}),-1!=s&&(this.$wineHolder.removeClass("hidden"),this.$wineItems.eq(s).addClass(c),this.$wineItems.find(".js-wine-name").text(l))}else this.$wineHolder.addClass("hidden")}},{key:"init",value:function(){this.$root.length&&((0,a.default)(),this.attachOwlCarousel())}}]),e}();t.default=b},414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10));n(189),t.default=new function(){var e={},t=void 0,n=void 0,o=void 0,a=void 0,r=void 0,s=(0,i.default)(window),c=void 0,l=void 0,u={autoWidth:!0,items:1,margin:14,mouseDrag:!1},d=function(){"xlarge"===window.breakpoint.value||"xxlarge"===window.breakpoint.value?(l.on("click",function(e){e.preventDefault(),function(e){var n=(0,i.default)(e.currentTarget).data("occasion-thumbnail");l.removeClass("active"),t.removeClass("active"),(0,i.default)(e.currentTarget).addClass("active"),t.filter('[data-occasion="'+n+'"]').addClass("active")}(e)}),n.trigger("destroy.owl.carousel"),r.removeAttr("style")):(l.unbind("click"),t.length<2&&(u.dots=!1,u.margin=0),n.owlCarousel(u),o.off().on("click",function(){r.show()}),a.off().on("click",function(){r.hide()}))};return e.init=function(){t=(0,i.default)(".js-occasion"),l=(0,i.default)(".js-occasion-thumbnail"),n=(0,i.default)(".js-occasion-carousel"),o=(0,i.default)(".js-view-all-occasions"),a=(0,i.default)(".js-close-all-occasions"),r=(0,i.default)(".js-all-occasions"),c=window.breakpoint.value,d(),s.resize(function(){c!==window.breakpoint.value&&(c=window.breakpoint.value,d())})},e}},415:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=new function(){return e.init=function(){var e=(0,o.default)(".Form__MainBody"),t=e.find(".FormTextbox__Input, select"),n=(0,o.default)(".EPiServerForms").find(".Form__Status__Message");function a(e){var t=(0,o.default)(e).val().replace(/^\s+$/,"");(0,o.default)(e).val(t),""!==(0,o.default)(e).val()?(0,o.default)(e).parent().addClass("has-value"):(0,o.default)(e).parent().removeClass("has-value")}t.each(function(e,t){a(t),(0,o.default)(t).focus(function(){(0,o.default)(t).parent().addClass("has-value")});var n=(0,o.default)(t).attr("required");(0,o.default)(this).parent().find("label").wrapInner('<span class="Form__Element__Caption__Text"></span>'),"undefined"!==(void 0===n?"undefined":i(n))&&!1!==n&&(0,o.default)(this).parent().find("label").append('<span class="Form__Element__Caption__Required">(Required)</span>')}),t.on("blur",function(e){a(e.currentTarget)}),(0,o.default)(".FormFileUpload__Input").each(function(){(0,o.default)(this).parent().append('<span class="FormFileUpload__Custom__Text"></span>');var e=(0,o.default)(this),t=e.prev("label"),n=t.html(),i=e.parent().find(".FormFileUpload__Custom__Text");e.attr("data-multiple-caption","Files attached {count}"),e.on("change",function(e){var o="";this.files&&this.files.length>1?o=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(o=e.target.value.split("\\").pop()),o?i.html(o):t.html(n)})}),setTimeout(function(){n.hasClass("hide")?e.show():e.hide()},100)},e}}).call(this,n(146)(e))},416:function(e,t,n){"use strict";n.r(t);var i=n(85),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(136),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},417:function(e,t,n){"use strict";n.r(t);var i=n(86),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(135),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},418:function(e,t,n){"use strict";n.r(t);var i=n(87),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(137),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},419:function(e,t,n){"use strict";n.r(t);var i=n(88),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(138),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},420:function(e,t,n){"use strict";n.r(t);var i=n(89),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(139),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},421:function(e,t,n){"use strict";n.r(t);var i=n(90),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(140),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},422:function(e,t,n){"use strict";n.r(t);var i=n(92),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(142),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},423:function(e,t,n){"use strict";n.r(t);var i=n(93),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(143),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},424:function(e,t,n){"use strict";n.r(t);var i=n(94),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(144),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},425:function(e,t,n){"use strict";n.r(t);var i=n(95),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(145),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},427:function(e,t,n){"use strict";var i=o(n(76));function o(e){return e&&e.__esModule?e:{default:e}}var a=void 0,r=(0,o(n(10)).default)("html, body");function s(){a=window.pageYOffset,r.css({position:"fixed",width:"100%",top:-a})}function c(){r.removeAttr("style").scrollTop(a)}i.default.directive("prevent-parent-scroll-mobile",{bind:function(e,t){t.value?s():c()},update:function(e,t){t.value!==t.oldValue&&(t.value?s():c())},unbind:function(){c()}})},428:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=r(n(10)),a=r(n(22));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.findNodes()}return i(e,[{key:"findNodes",value:function(){this.$root=(0,o.default)(".js-product-page")}},{key:"attachEvents",value:function(){var e=this;this.$root.find(".related-recipes__recipe > a").on("click",function(t){try{var n=(0,o.default)(t.currentTarget).parent().find(".js-recipe-name").text().trim(),i=e.getProductInformation();a.default.relatedRecipeProduct(Object.assign({relatedRecipe:n},i))}catch(e){console.log(e)}}),this.$root.find(".js-related-products").on("click",function(t){try{var n=(0,o.default)(t.currentTarget).data("name"),i=e.getProductInformation();a.default.productUsedOnProduct(Object.assign({relatedProduct:n},i))}catch(e){console.log(e)}}),this.$root.find(".js-all-recipes").on("click",function(){a.default.allRecipesProduct(e.getProductInformation())})}},{key:"getProductInformation",value:function(){return{cheeseType:this.$root.data("cheeseType"),productName:this.$root.find(".js-product-name").text()}}},{key:"init",value:function(){this.$root.length&&this.attachEvents()}}]),e}();t.default=s},77:function(e,t,n){"use strict";n.r(t);var i=n(81),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var r=n(129),s=n(2),c=Object(s.a)(o.a,r.a,r.b,!1,null,null,null);t.default=c.exports},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(28)),o=d(n(12)),a=d(n(21)),r=d(n(407)),s=d(n(185)),c=d(n(127)),l=d(n(186)),u=d(n(22));function d(e){return e&&e.__esModule?e:{default:e}}t.default={components:{OnboardingRecipe:r.default,UserFlavorPrint:s.default,FacebookLogin:c.default,CheeseBoardExclusions:l.default},props:{popupTextContinue:{type:String,default:""},popupTextBack:{type:String,default:""},yourFlavorsText:{type:String,default:""},popupTextLastStep:{type:String,default:""},popupButtonText:{type:String,default:""}},data:function(){return{activeStep:0,likes:[],flavorPrint:{flavors:[]},config:o.default,user:a.default,isExclusionsVisible:!1,onboardingArray:[],exclusionsPopup:"exclusion-popup",showExclusions:!1,skipFacebookUser:!1}},computed:{dislikes:function(){var e=this;return this.onboardingArray.map(function(e){return e.recipes}).reduce(function(e,t){return e.concat(t)}).map(function(e){return e.id}).filter(function(t){return!e.likes.includes(t)})}},mounted:function(){var e=this;i.default.$on("fill-out-onboarding-steps",function(t,n,i){"boolean"==typeof n&&n&&(e.skipFacebookUser=!0),e.onboardingArray=t.steps,i&&(e.showExclusions=!0)})},methods:{createUser:function(e){var t=this;this.skipFacebookUser?a.default.createTieUser(this.likes,this.dislikes).then(function(){return i.default.$emit("tie-user-created",e),t.closePopup(),null}).then(function(){return a.default.fetch()}):a.default.createTieUser(this.likes,this.dislikes).then(function(){return a.default.facebookData&&"signup"==a.default.facebookData.status?a.default.createUser(a.default.facebookData):null}).then(function(){return a.default.fetch()}).then(function(){o.default.isLoading=!1,t.flavorPrint.flavors=a.default.flavors,t.sortedFlavors=JSON.parse(JSON.stringify(a.default.flavors)),t.sortedFlavors.sort(function(e,t){return e.score<t.score?1:t.score<e.score?-1:0})})},nextStep:function(){u.default.onboarding({questionsToNumberOfQuestions:this.activeStep+1+"/"+this.onboardingArray.length,typeOfDishes:this.onboardingArray[this.activeStep].title}),this.activeStep+=1,this.activeStep==this.onboardingArray.length&&(this.showExclusions?this.isExclusionsVisible=!0:(o.default.isLoading=!0,this.createUser()))},previousStep:function(){this.activeStep-=1},toggleSelectedRecipe:function(e){if(this.likes.includes(e.id)){var t=this.likes.indexOf(e.id);this.likes.splice(t,1)}else this.likes.push(e.id)},closePopup:function(){o.default.isOnBoardingOpened=!1},onConnectToFacebook:function(e){var t=this;e.connected?(u.default.signInWithFacebookOverlay(),"signup"==e.status?a.default.createUser(e).then(function(){return t.reloadPage()}):this.reloadPage()):o.default.isLoading=!1},reloadPage:function(){window.location.reload()},exclusionSelected:function(e){o.default.isLoading=!0,this.createUser(e)},backToOnboarding:function(){this.isExclusionsVisible=!1,this.activeStep-=1}}}},79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{recipe:{type:Object,default:function(){}}}}},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(77));t.default={components:{FlavorsChart:i.default},props:{userName:{type:String,default:""},flavors:{type:Array,default:function(){return[]}},sortedFlavors:{type:Array,default:function(){return[]}},yourFlavorsText:{type:String,default:""}}}},81:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(408));t.default={props:{flavors:{type:Array,default:function(){return[]}}},mounted:function(){this.drawChart(this.flavors)},methods:{drawChart:function(e){for(var t=this.$el.offsetWidth,n=t,o=Math.min(t,n)/2,a=.2*o,r=0,s=0;s<e.length;s+=1)r<e[s].score&&(r=e[s].score);var c=i.default.pie().sort(null).value(1),l=i.default.arc().innerRadius(function(e){return 0!=e.data.score?a-5:a}).cornerRadius(function(e){return 0!=e.data.score?5:null}).outerRadius(function(e){var t=(o-a)*(e.data.score/r)+a;return t==a&&(t+=9),t}),u=i.default.select(this.$el.childNodes[0]).append("svg").attr("width","100%").attr("height","100%").attr("viewBox","0 0 "+Math.min(t,n)+" "+Math.min(t,n)).attr("preserveAspectRatio","xMinYMin").append("g").attr("transform","translate("+Math.min(t,n)/2+", "+Math.min(t,n)/2+")");[].forEach(function(e){e.name=e.name,e.hex=e.hex,e.score=+e.score});var d=i.default.select("body").append("div").attr("class","flavor-chart-tooltip").style("opacity",0).style("visibility","hidden");u.selectAll(".solidArc").data(c(e)).enter().append("path").attr("fill",function(e){return"#"+e.data.hex}).attr("class","solidArc").attr("d",l).on("mouseover",function(e){d.style("opacity",.9).style("visibility","visible"),d.html(e.data.name).style("left",function(e){var t=(e=e||window.event).pageX;return void 0===t&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft),t}()+15+"px").style("top",function(e){var t=(e=e||window.event).pageY;return void 0===t&&(t=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),t}()-60+"px"),0==e.data.score?d.attr("class","flavor-chart-tooltip hidden"):d.attr("class","flavor-chart-tooltip")}).on("mouseout",function(){d.style("opacity",0).style("visibility","hidden")}),u.append("circle").attr("r",a).attr("fill","#ffffff")}}}},82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(12)),o=a(n(125));function a(e){return e&&e.__esModule?e:{default:e}}t.default={props:{buttonText:{type:String,default:""}},created:function(){o.default.init()},methods:{connect:function(){var e=this;i.default.isLoading=!0,o.default.connect().then(function(t){e.$emit("connect",t)})}}}},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{exclusionTitle:{type:String,default:window.exclusionTitle},exclusionSubTitle:{type:String,default:window.exclusionSubTitle},popupTextContinue:{type:String,default:window.exclusionsPopupTextContinue},popupTextBack:{type:String,default:window.exclusionsPopupTextBack},showBackButton:{type:Boolean,default:!1}},data:function(){return{exclusions:[{title:window.exclusionsNonAlcoholic,id:"non-alcoholic",isSelected:!1},{title:window.exclusionsLowSugar,id:"low-sugar",isSelected:!1},{title:window.exclusionVegetarian,id:"vegetarian",isSelected:!1},{title:window.exclusionGlutenFree,id:"gluten-free",isSelected:!1}]}},computed:{selected:function(){return this.exclusions.filter(function(e){return e.isSelected}).map(function(e){return e.id.replace(/-/," ")})}},methods:{nextStep:function(){this.$emit("complete-exclusion-selection",this.selected)},onBackClicked:function(){this.$emit("on-back-clicked")},toggleSelection:function(e){e.isSelected=!e.isSelected}}}},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{isIE:"Microsoft Internet Explorer"==navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/))}}}},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(21)),o=l(n(12)),a=l(n(185)),r=l(n(127)),s=l(n(417)),c=l(n(22));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{UserFlavorPrint:a.default,FacebookLogin:r.default,SignOut:s.default},props:{yourFlavorsText:{type:String,default:""},facebookButtonText:{type:String,default:""},signOutText:{type:String,default:""}},data:function(){return{user:i.default,config:o.default}},computed:{flavors:function(){return JSON.parse(JSON.stringify(this.user.flavors)).sort(function(e,t){return e.score<t.score?1:t.score<e.score?-1:0})}},methods:{onConnectToFacebook:function(e){var t=this;e.connected?("signup"==e.status?i.default.createUser(e).then(function(){return t.reloadPage()}):this.reloadPage(),c.default.saveWithFacebook()):o.default.isLoading=!1},reloadPage:function(){window.location.reload()}}}},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(12)),o=s(n(21)),a=s(n(125)),r=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}t.default={props:{signOutText:{type:String,default:""}},created:function(){a.default.init()},methods:{signOut:function(){i.default.isLoading=!0,r.default.signOut(),o.default.signOut().then(function(){return a.default.disconnect()}).then(function(){window.location.reload()})}}}},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(28)),o=u(n(12)),a=u(n(21)),r=u(n(124)),s=u(n(77)),c=u(n(127)),l=u(n(22));function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{FlavorsChart:s.default,FacebookLogin:c.default},props:{title:{type:String,default:""},subtitle:{type:String,default:""},buttonText:{type:String,default:""},facebookButtonText:{type:String,default:""},userProfileHelpLink:{type:String,default:""}},data:function(){return{user:a.default}},mounted:function(){var e=this;i.default.$on("global-onboarding",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.startOnboarding(t)}),i.default.$on("global-onboarding-with-exclusions",function(){e.startOnboarding(!0,!0)})},methods:{onConnectToFacebook:function(e){e.connected?(l.default.signInWithFacebook(),"signup"==e.status?this.startOnboarding():window.location.reload()):o.default.isLoading=!1},startOnboarding:function(e,t){o.default.isLoading=!0,o.default.isOnBoardingOpened=!0,l.default.getStarted(),r.default.getTieUserSignupFlow(o.default.language).then(function(n){o.default.isLoading=!1,o.default.isUserProfileOpened=!1,i.default.$emit("fill-out-onboarding-steps",n,e,t)})},trackMoreInformation:function(){l.default.learnMore()}}}},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(60)),o=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}t.default={props:["extension"],data:function(){return{extensionsVisible:!1,checked:!0}},methods:{setCookie:function(){this.checked||(window.dataLayer.push({event:"blacklist-update",restrictionLevel:"block everything","gtm.blacklist":["customScripts","customPixels","ga","opt","ua","gcs","gclidw","ts","flc","fls","sp","awct","adm"]}),i.default.set("tracking-policy",1,{expires:365})),o.default.isCookieNotification=1,i.default.set("cookie-policy",1,{expires:365})},toggleExtensions:function(){this.extensionsVisible=!this.extensionsVisible}}}},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(60)),o=r(n(28)),a=r(n(21));function r(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{isPageToShowPopup:window.showPopupOnStart,isShown:!1,user:a.default}},watch:{"user.isAuthProceed":function(){var e=this;this.user.isLoggedIn||(this.checkCookie(),setTimeout(function(){e.hidePopup()},3e3))}},mounted:function(){var e=this;o.default.$on("close-sign-in-popup",function(){e.hidePopup()}),o.default.$on("show-sign-in-popup",function(){e.isShown=!0,setTimeout(function(){e.hidePopup()},3e3)})},methods:{checkCookie:function(){!i.default.get("overlay")&&this.isPageToShowPopup&&(this.isShown=!0,this.user.hasSeenSignIn=!0,this.setCookie())},setCookie:function(){i.default.set("overlay","showed",{expires:365})},hidePopup:function(){this.isShown=!1}}}},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(28)),o=s(n(21)),a=s(n(124)),r=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}t.default={props:{categoryId:{type:String,default:""},cbbEndPoint:{type:String,default:""}},data:function(){return{user:o.default,currentIndex:0,isRecipeFlow:!0,hasBeenStarted:!1,recommendedProduct:null,isExclusionShown:!1,recommendationArray:[],dataSet:{},exclusions:[]}},computed:{recommendedItem:function(){return this.recommendationArray[this.currentIndex]},recommendedItems:function(){if(!this.recommendationArray)return[];var e=this.recommendationArray[this.currentIndex],t=this.recommendationArray[0];return this.currentIndex<this.recommendationArray.length-1&&(t=this.recommendationArray[this.currentIndex+1]),[e,t]}},methods:{skipFacebookUserCreation:function(){i.default.$emit("global-onboarding",!0),i.default.$on("tie-user-created",this.subscribeToUnboarindFlow)},getRecommendedRecipe:function(){var e=this;o.default.isLoggedIn?(r.default.isLoading=!0,o.default.getFavoriteRecipe(this.categoryId).then(function(t){e.recommendationArray=t,r.default.isLoading=!1})):this.skipFacebookUserCreation()},getRecommendedProduct:function(){var e=this;this.isRecipeFlow=!1,o.default.isLoggedIn?(r.default.isLoading=!0,o.default.getFavoriteProduct().then(function(t){e.recommendationArray=t,r.default.isLoading=!1})):this.skipFacebookUserCreation()},getCBBProducts:function(e){var t=this;this.isRecipeFlow=!1,o.default.isLoggedIn?(r.default.isLoading=!0,o.default.getCBBProducts(e).then(function(e){t.recommendationArray=e,r.default.isLoading=!1})):this.skipFacebookUserCreation()},getNextRecommendation:function(){this.currentIndex<this.recommendationArray.length-1?this.currentIndex=this.currentIndex+1:this.currentIndex=0},subscribeToUnboarindFlow:function(){o.default.isLoggedIn=!0,this.isRecipeFlow?this.getRecommendedRecipe():this.getRecommendedProduct()},startCheeseBoardBuilder:function(){o.default.isLoggedIn?this.isExclusionShown=!0:(i.default.$emit("global-onboarding-with-exclusions"),i.default.$on("tie-user-created",this.userCreatedCallback))},userCreatedCallback:function(e){var t=this;o.default.isLoggedIn=!0,this.exclusions=e,a.default.getCBBSpreadsheet(this.cbbEndPoint).then(function(e){var n=[];t.dataSet=e,e.cheeseTypes.forEach(function(e){e.items.forEach(function(e){n.push(e.productId)})}),t.getCBBProducts(n)})},onShowRecommendedProduct:function(e){this.recommendedProduct=this.recommendationArray.find(function(t){return t.code==e})},clearRecommendedProduct:function(){this.recommendedProduct=null},hideExclusion:function(){this.isExclusionShown=!1},exclusionSelected:function(e){this.isExclusionShown=!1,this.userCreatedCallback(e)}}}},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(58));t.default={props:{bestMatchText:{type:String,default:""},openProductButton:{type:String,default:""},recommendedItem:{type:Object,default:function(){}},showText:{type:String,default:""},hideText:{type:String,default:""},isRecipe:{type:Boolean,default:!1}},data:function(){return{numberOfLines:2,isTruncateButtonNeeded:!1}},watch:{recommendedItem:function(){var e=this;this.$nextTick(function(){window.picturefill({reevaluate:!0}),(0,i.default)(e.$refs.picture)})}},created:function(){this.checkIfLineTruncationNeeded()},mounted:function(){var e=this;window.addEventListener("resize",this.checkIfLineTruncationNeeded),this.$nextTick(function(){e.checkIfLineTruncationNeeded(),window.picturefill({reevaluate:!0}),(0,i.default)(e.$refs.picture)})},unmounted:function(){window.removeEventListener("resize",this.checkIfLineTruncationNeeded)},methods:{checkIfChildrenHeightBigger:function(){return!!(this.$refs.descriptionContent&&this.$refs.descriptionHolder&&this.$refs.descriptionContent.offsetHeight<this.$refs.descriptionHolder.offsetHeight)},checkIfLineTruncationNeeded:function(){window.matchMedia("(max-width: 667px)").matches?(this.numberOfLines=2,this.isTruncateButtonNeeded=this.checkIfChildrenHeightBigger()):this.numberOfLines=100},toggleMore:function(){2==this.numberOfLines?this.numberOfLines=100:this.numberOfLines=2}}}},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(190));t.default={components:{RecommendedContent:i.default},props:{title:{type:String,default:""},subtitle:{type:String,default:""},bestMatchText:{type:String,default:""},openProductButton:{type:String,default:""},recommendedItem:{type:Object,default:function(){}},showText:{type:String,default:""},hideText:{type:String,default:""},isRecipe:{type:Boolean,default:!1}}}},93:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(12));t.default={props:{countryList:{type:Array,default:function(){return window.countryList}}},data:function(){return{selected:"",config:i.default}},computed:{current:function(){return this.countryList.find(function(e){return e.current})}},watch:{selected:function(){window.location=this.selected}},methods:{showPopup:function(){i.default.isCountryPickerShown=!0}}}},94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(12));t.default={props:{overlayTitle:{type:String,default:""}},data:function(){return{countryList:window.countryList}},computed:{list:function(){for(var e=JSON.parse(JSON.stringify(this.countryList)),t=e.length,n=Math.ceil(t/3),i=[],o=0;o<t;o+=n)i.push(e.slice(o,o+n));return i}},methods:{hideOverlay:function(){i.default.isCountryPickerShown=!1}}}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(10)),o=r(n(12)),a=r(n(28));function r(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{eventName:"react-event-name-"+Date.now(),domkey:"element-"+Date.now()}},props:{title:{type:String,default:""},subtitle:{type:String,default:""},randomFactor:{type:String,default:""},endPoint:{type:String,default:""},basePath:{type:String,default:""},swipeHint:{type:String,default:""},recommendedItems:{type:Array,default:[]},exclusions:{type:Array,default:[]},dataSet:{type:Object,default:{}}},beforeMount:function(){o.default.isLoading=!0},mounted:function(){this.getCheeseBoard()},watch:{recommendedItems:function(){var e=this;this.domkey="element-"+Date.now(),o.default.isLoading=!0,this.$nextTick(function(){e.scrollTop(),setTimeout(function(){e.cheeseBoard.render(e.$refs.board,JSON.parse(JSON.stringify(e.dataSet)),e.recommendedItems,e.exclusions)},500)})}},methods:{scrollTop:function(){var e=(0,i.default)(".js-header").height();(0,i.default)("html, body").animate({scrollTop:(0,i.default)(this.$refs.container).offset().top-e-20},500)},getCheeseBoard:function(){var e=this;return Promise.all([n.e(3),n.e(0)]).then(n.t.bind(null,432,7)).then(function(t){o.default.isLoading=!1,e.cheeseBoard=t.default,e.cheeseBoard.render(e.$refs.board,JSON.parse(JSON.stringify(e.dataSet)),e.recommendedItems,e.exclusions),e.scrollTop(),a.default.$on(e.eventName,function(t){e.$emit("show-recommended",t)})}).catch(function(e){o.default.isLoading=!1,console.log(e)})}}}}});